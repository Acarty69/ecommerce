{% extends 'base.html.twig' %}

{% block title %}Hello ProductController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

    {{ form_start(form, {'attr': {'action': path('image_addToProduct', {'id': product.id})}}) }}
    {{ form_widget(form) }}
    <button class="btn btn-primary" type="submit">Submit</button>
    {{ form_end(form) }}

    {% for image in product.image %}

        <img src="{{ vich_uploader_asset(image, 'imageFile') | imagine_filter('my_thumb') }}" alt="{{ product.name }}">
        <a class="btn-danger btn" href="{{ path('image_removeFromProduct',{id:image.id}) }}">delete</a>


    {% endfor %}

    <div class="row border border-dark m-3">
        <h1> Fait par {{ product.author.username }}</h1>
        <h2>{{ product.name }}</h2>
        <h3>{{ product.description }}</h3>
        <p>{{ product.prix }}</p>
    </div>

    <a class="btn btn-primary" href="/product/update/{{ product.id }}">Modifier le produit</a>
    <a class="btn btn-danger" href="/product/delete/{{ product.id }}">Supprimer le produit</a>
    <a class="btn btn-success" href="/product"> Retour </a>

{% endblock %}
